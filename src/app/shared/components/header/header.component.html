
<header class="app-header">

    
  <!-- Logo -->
  <img src="assets/img/tb3.png" alt="Logo de la aplicación TB-FRONTEND" class="logo" />
  
  <!-- Filtro -->
  <app-filtro ></app-filtro>
  
  <!-- Menú de navegación (solo visible en desktop) -->
  <nav class="desktop-nav">
    <ul>
      <li *ngFor="let item of navItems">
        <a [routerLink]="item.path" routerLinkActive="active">{{ item.label }}</a>
      </li>
    </ul>
  </nav>

  <!-- Botón Definir Ubicación (solo visible en desktop) -->
  <button
    pButton
    label="Definir ubicación"
    icon="pi pi-map-marker"
    class="p-button-info p-button-warning ml-3 desktop-location-btn"
    (click)="openLocationModal()">
  </button>

  <!-- Botón hamburguesa (solo visible en móvil) -->
  <button 
    pButton 
    icon="pi pi-bars" 
    severity="info" 
    (click)="visible = true" 
    class="menu-toggle p-button-icon">
  </button>

</header>


<!-- Drawer para móvil -->
<p-drawer [(visible)]="visible" position="left" styleClass="p-drawer-sm">
    <ng-template pTemplate="header">
      <img src="assets/img/tb.jpg" alt="Logo de la aplicación TB-FRONTEND" class="logo" style="width: 140px;" />  </ng-template>
  
  <!-- Botón Definir Ubicación dentro del drawer -->
  <button
    pButton
    label="Definir ubicación"
    icon="pi pi-map-marker"
    class="p-button-info p-button-warning mb-3"
    style="width: 100%;"
    (click)="openLocationModal(); visible = false">
  </button>

  <!-- Menú de navegación -->
  <nav class="drawer-nav">
    <ul class="drawer-menu">
      <li *ngFor="let item of navItems">
        <a [routerLink]="item.path" routerLinkActive="active" (click)="visible=false">{{ item.label }}</a>
      </li>
    </ul>
  </nav>
</p-drawer>

<!-- MODAL DE UBICACIÓN -->
<p-dialog
  [(visible)]="showLocationModal"
  header="Definir ubicación"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  [style]="{ width: '650px' }">

  <!-- MAPA -->
  <div #mapContainer id="map" style="width: 100%; height: 350px; border-radius: 10px;"></div>

  <!-- BUSCADOR -->
  <div class="mt-3">
    <input pInputText
           type="text"
           placeholder="Ingresar ubicación manual"
           [(ngModel)]="manualAddress"
           style="width: 100%;" />

    <!-- BOTÓN CONFIRMAR UBICACIÓN -->
    <button pButton
            label="Confirmar ubicación"
            icon="pi pi-check"
            class="p-button-success mt-3"
            (click)="confirmLocation()">
    </button>
  </div>

  <p-footer>
    <!-- BOTÓN BUSCAR UBICACIÓN -->
    <button pButton
            label="Ingresar ubicación"
            icon="pi pi-search"
            class="p-button-text"
            (click)="searchAddress()">
    </button>
  </p-footer>
</p-dialog>
